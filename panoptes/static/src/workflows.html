{% extends "index.html" %}

{% block main_info %}

<div class="card">
  <div class="card-body">
    <table id="workFlowsTable" class="table table-responsive-sm table-hover table-outline mb-0">
      <thead class="thead-light">
      <tr>
        <th >Id
        </th>
        <th >Name

        </th>
        <th>Status</th>
        <th>Date</th>
        <th>Current jobs</th>
      </tr>
      </thead>
      <tbody>
        {% for wf in workflows %}
      <tr class="tableRow">
        <td>
          <a href='/workflow/{{ wf.id }}'> {{ wf.id }} </a>
        </td>
        <td class="nameColumn">
          <a href='/workflow/{{ wf.id }}'> {{ wf.name }} </a>
        </td>
        <td>
          <span class="badge badge-{{ 'success' if wf.status=='Done' else ('danger' if wf.status=='Error' else ('info' if wf.status=='Running' else 'light text-dark'))}}"> {{ wf.status }} </span>
        </td>
        <td>
          <a> {{ wf.started_at|formatdatetime }} </a>
        </td>
        <td>
          <a> {{ wf.jobs_done }}/{{ wf.jobs_total }} </a>
        </td>
      {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% endblock %}
